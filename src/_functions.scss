/// Map deep get
/// @author Hugo Giraudel
/// @access public
/// @param {Map} $map - Map
/// @param {Arglist} $keys - Key chain
/// @return {*} - Desired value
@function map-deep-get($map, $keys...) {
    @each $key in $keys {
        $map: map-get($map, $key);
    }
    @return $map;
}

// multiCat()

@function multiCat($list1, $list2){
  $thisList: ();
  @each $e in $list1 {
    @each $ee in $list2 {
      $thisBlock: $e + $ee;
      $thisList: join($thisList, $thisBlock);
    }
  }
  @return $thisList;
}

// map-collect()

@function map-collect($maps...) {
  $collection: ();

  @each $map in $maps {
    $collection: map-merge($collection, $map);
  }
  @return $collection;
}

// remove()

@function remove($list, $value, $recursive: false) {
  $result: ();

  @for $i from 1 through length($list) {
    @if type-of(nth($list, $i)) == list and $recursive {
      $result: append($result, remove(nth($list, $i), $value, $recursive));
    }

    @else if nth($list, $i) != $value {
      $result: append($result, nth($list, $i));
    }
  }

  @return $result;
}

// toMap()

@function toMap($key, $values){
  $l: length($values);
  @if $key == 'noModifier' or $key == 'noValue' {
    $key: '';
  }
  @if $l == 1 or nth($values, $l) != isReadable {
    @return (
      slug: $key,
      content: ($values),
    );
  } @else {
    $values: remove($values, isReadable);
    @return (
      slug: $key,
      isReadable: true,
      content: ($values),
    );
  }
}

// baseToMap()

@function baseToMap($values){
  $l: length($values);
  @if $l == 1 or nth($values, $l) != isReadable {
    @return (
      slug: $values,
    );
  } @else {
    $values: remove($values, isReadable);
    @return (
      slug: unquote(nth($values, 1)),
      isReadable: true,
    );
  }
}

// utilitiesMap

@function utilitiesMap($import){
  $s: ();
  @each $utility in $import {
    $thisUtility: '$' + $utility;
    $s: join($s, $thisUtility);
  }
  @return $s;
}
